<md-content class="md-padding" layout="row" layout-wrap layout-align="center start">
    <div flex-gt-md="75" flex-gt-lg="50" flex="grow" layout="column">
        <md-card class="profile-card md-whiteframe-z3">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">{{ 'settings.header-title' | translate }}</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content class="without-padding">
                <form name="form" role="form" ng-submit="save()">
                    <div layout="column" layout-wrap layout-gt-sm="row">
                        <md-content flex="nogrow" class="md-padding">
                            <md-input-container class="md-has-no-icon-left">
                                <h4><md-icon class="material-icons">panorama</md-icon> * {{ 'field.image-main' | translate }}</h4>
                                <input type="hidden" ng-required="true" name="avatar" ng-model="user.avatar.id" aria-label="Foto principal">
                            </md-input-container>
                            <div layout="row" layout-align="center center">
                                <md-button class="img-container" ng-click="selectAvatar($event)">
                                    <md-tooltip>{{ 'tooltip.select-image' | translate }}</md-tooltip>
                                    <img src="{{ user | userImage:user }}"  id="image-main" class="image-avatar" />
                                </md-button>
                            </div>
                        </md-content>
                        <md-content flex class="md-padding">
                            <div class="md-block without-input">
                                <label>{{ 'field.username' | translate }}</label>
                                <div class="value">{{ user.username }}</div>
                            </div>
                            <div class="md-block without-input">
                                <label>Email</label>
                                <div class="value">{{ user.email }}</div>
                            </div>
                            <md-input-container class="md-block">
                                <label>{{ 'field.first-name' | translate }}</label>
                                <input type="text" name="first_name" ng-model="user.first_name" />
                            </md-input-container>
                            <md-input-container class="md-block">
                                <label>{{ 'field.last-name' | translate }}</label>
                                <input type="text" name="last_name" ng-model="user.last_name" />
                            </md-input-container>
                            <div class="md-card-subtitle">{{ 'settings.password-title' | translate }}</div>
                            <md-input-container class="md-block md-password">
                                <label>{{ 'field.password' | translate }}</label>
                                <input type="password" name="password" ng-model="user.password">
                            </md-input-container>
                            <md-input-container class="md-block md-password">
                                <label>{{ 'field.password-repeat' | translate }}</label>
                                <input type="password" name="passwordRepeat" ng-model="user.passwordRepeat" data-password-verify="user.password">
                                <div ng-messages="form.passwordRepeat.$error" role="alert" multiple>
                                    <div ng-message="passwordVerify">{{ 'form.error-password' | translate }}</div>
                                </div>
                            </md-input-container>
                            <div class="md-card-subtitle">{{ 'settings.language-title' | translate }}</div>
                            <md-radio-group ng-model="user.language">
                                <md-radio-button value="es" aria-label="{{ 'settings.language-spanish' | translate }}"><md-icon class="material-icons"></md-icon> {{ 'settings.language-spanish' | translate }}
                                </md-radio-button>
                                <md-radio-button value="en" aria-label="{{ 'settings.language-english' | translate }}"><md-icon class="material-icons"></md-icon> {{ 'settings.language-english' | translate }}
                                </md-radio-button>
                            </md-radio-group>
                        </md-content>
                    </div>
                    <div class="md-card-actions" layout="column" layout-align="space-around stretch">
                        <div layout="column" layout-align="space-around stretch" layout-wrap layout-padding>
                            <md-button type="submit" class="md-raised md-profile-button zoomAnimation" ng-disabled="form.$invalid" ng-hide="progressBarActivated || delay2">{{ 'btn.save-text' | translate }}</md-button>
                            <div flex layout="row" layout-align="center center">
                                <md-progress-circular md-mode="indeterminate" ng-show="progressBarActivated && !delay1" class="md-profile zoomAnimation" md-diameter="100"></md-progress-circular>
                            </div>
                        </div>
                    </div>
                </form>
            </md-card-content>
        </md-card>
    </div>
</md-content>
