<section layout="row" ng-controller="Header" class="{{ headerTheme }}">
    <div ng-include="'views/common/sidenav-left.html'"></div>

    <header md-page-header class="fixed-top">
        <md-toolbar flex class="md-whiteframe-z1 md-tall">
            <div class="md-toolbar-tools">
                <button type="button" ng-click="toggleLeft()" aria-label="Toogle menu" class="menuBtn menuHome" hide-gt-sm>
                    <i class="material-icons md-light">menu</i>
                </button>
                <div md-header-picture class="img-logo-toolbar hide"></div>
                <span flex></span>
                <div hide-xs hide-sm show-gt-sm>
                    <div ng-if="IsAuthed">
                        <md-menu>
                            <md-button ng-click="openDropdrown($mdOpenMenu, $event)">
                                <div layout="row" layout-align="center center">
                                    <img class="user-image" ng-src="{{ UserLogged | userImage:UserLogged }}" />
                                    <span>Hola, {{ UserLogged.first_name }}</span>
                                </div>
                            </md-button>
                            <md-menu-content>
                                <md-menu-item>
                                    <md-button ng-href="/new-recipe">
                                        <md-icon class="material-icons md-black">edit</md-icon> Escribe una receta
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item>
                                    <md-button ng-href="/profile">
                                        <md-icon class="material-icons">person</md-icon> Perfil
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button ng-href="/logout">
                                        <md-icon class="material-icons">exit_to_app</md-icon> Logout
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>
                    <div ng-if="!IsAuthed">
                        <md-button ng-href="/login">Login / Registrate</md-button>
                    </div>
                </div>
            </div>
            <div layout="column" layout-align="center center">
                <div flex>
                    <img class="img-logo" src="../img/header-logo.png" alt="Logo Recetarium">
                </div>
                <div flex class="motto">Recetario: Tus recetas siempre contigo.</div>
                <div flex>
                    <md-input-container md-no-float class="md-has-no-icon-left search-home" flex="100" layout="row" layout-align="start center">
                        <md-button class="md-icon-button md-mini" ng-click="searchRecipe()" aria-label="Search">
                            <md-icon class="material-icons">search</md-icon>
                        </md-button>
                        <input ng-keyup="$event.keyCode == 13 ? searchRecipe() : null" type="text" ng-model="search" aria-label="Buscar recetas" />
                    </md-input-container>
                </div>
            </div>
        </md-toolbar>
    </header>
</section>
